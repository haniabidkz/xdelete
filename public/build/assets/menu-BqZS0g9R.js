const t=document.querySelector(".menu-block"),u=t.querySelector(".site-menu-main"),r=t.querySelectorAll(".sub-menu"),a=t.querySelector(".go-back"),m=document.querySelector(".mobile-menu-trigger"),d=t.querySelector(".mobile-menu-close");let c,s=[],o=[];function g(e){return e[e.length-1]}function v(e){return e[e.length-2]}u.addEventListener("click",e=>{if(t.classList.contains("active")&&e.target.closest(".nav-item-has-children")){const n=e.target.closest(".nav-item-has-children");y(n)}});a.addEventListener("click",()=>{const e=g(s),n=v(o);s.pop(),o.pop(),s.length>=0&&(document.getElementById(e).style.animation="slideRight 0.5s ease forwards",t.querySelector(".current-menu-title").innerHTML=n,setTimeout(()=>{document.getElementById(e).classList.remove("active")},300)),s.length==0&&t.querySelector(".mobile-menu-head").classList.remove("active")});m.addEventListener("click",()=>{i()});d.addEventListener("click",()=>{i()});document.querySelector(".menu-overlay").addEventListener("click",()=>{i()});function i(){t.classList.toggle("active"),document.querySelector(".menu-overlay").classList.toggle("active")}function y(e){for(let l=0;r.length<l;l++)r[l].classList.remove("active");c=e.querySelector(".sub-menu"),s.push(c.id),c.classList.add("active"),c.style.animation="slideLeft 0.5s ease forwards";const n=e.querySelector(".drop-trigger").textContent;o.push(n),t.querySelector(".current-menu-title").innerHTML=n,t.querySelector(".mobile-menu-head").classList.add("active")}window.onresize=function(){this.innerWidth>991&&t.classList.contains("active")&&i()};
